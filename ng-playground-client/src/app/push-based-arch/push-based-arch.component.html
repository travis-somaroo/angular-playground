<div *ngIf="vm$ | async as vm">
  <h1>Push Based Arch</h1>
  <div class="flex flex-column gap-3">
    <div>
      <label class="mr-2">Search for:</label>
      <input pInputText [formControl]="searchTerm">
    </div>
    <div class="flex gap-2 align-items-center">
      <label>Search page size:</label>
      <p-button
        *ngFor="let pageSize of vm.pagination.pageSizes"
        [ngClass]="{active: pageSize === vm.pagination.selectedSize}"
        (onClick)="facade.updatePagination(pageSize)"
        [label]="pageSize.toString()"
      />
    </div>

    <ng-container>
      <ul>
        <li *ngFor="let user of vm.users">
          {{ user.name.first }} {{ user.name.last }}
        </li>
      </ul>
    </ng-container>

    <div class="flex gap-2">
      <p-button (onClick)="getPageSize()" [label]="'Show Page Size'"/>

      <p *ngIf="!showButton" class="font-semibold">
        Current page size = {{ vm.pagination.selectedSize }}
      </p>
    </div>
  </div>
</div>
